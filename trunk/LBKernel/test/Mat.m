 format rat
 
M = [ 1 1 1 1 1 1 1 1 1;
    -4 -1 -1 -1 -1 2 2 2 2;
    4 -2 -2 -2 -2 1 1 1 1;
    0 1 0 -1 0 1 -1 -1 1;
    0 -2 0 2 0 1 -1 -1 1;
    0 0 1 0 -1 1 1 -1 -1;
    0 0 -2 0 2 1 1 -1 -1;
    0 1 -1 1 -1 0 0 0 0;
    0 0 0 0 0 1 -1 1 -1; ];

%invM = inv(M)

invM =[1/9           -1/9            1/9            0              0              0              0              0       0;
       1/9           -1/36          -1/18           1/6           -1/6            0              0              1/4     0;
       1/9           -1/36          -1/18           0              0              1/6           -1/6           -1/4     0;
       1/9           -1/36          -1/18          -1/6            1/6            0              0              1/4     0;
       1/9           -1/36          -1/18           0              0             -1/6            1/6           -1/4     0;
       1/9            1/18           1/36           1/6            1/12           1/6            1/12           0       1/4;
       1/9            1/18           1/36          -1/6           -1/12           1/6            1/12           0       -1/4;
       1/9            1/18           1/36          -1/6           -1/12          -1/6           -1/12           0       1/4;
       1/9            1/18           1/36           1/6            1/12          -1/6           -1/12           0       -1/4; ];

%invM*M

S = diag([0 1 1 0 1 0 1 0.7 0.7]);

SS = invM*S*M

SSS = M*SS*invM